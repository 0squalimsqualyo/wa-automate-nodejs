["\n    (async function() {\n        if(WAPI.sendMessage.toString().includes('Not a contact') && !WAPI.sendMessageToID) {\n            //evaluate the code\n            if(function(){const e=\"parasite\"+Date.now();webpackChunkbuild.push([[e],{},function(e,o,t){let i=[];for(let o in e.m)i.push(e(o));!function(e){let o=0,t=[{id:\"Store\",conditions:e=>e.default&&e.default.Chat&&e.default.Msg?e.default:null},{id:\"_kvm2r34\",conditions:e=>e.vcardFromContactModel?e:null},{id:\"locales\",conditions:e=>e.default&&e.default.localeStrings?e.default:null},{id:\"Theme\",conditions:e=>e.setTheme&&e.applyThemeToUI?e:null},{id:\"Blocklist\",conditions:e=>e.default&&e.BlocklistCollection?e.default:null},{id:\"Sticker\",conditions:e=>e.default&&e.Sticker?{modelClass:e.default}:null},{id:\"Catalog\",conditions:e=>e.default&&e.CatalogCollection?e.default:null},{id:\"ProfilePicThumb\",conditions:e=>e.default&&e.ProfilePicThumbCollection?e.default:null},{id:\"Call\",conditions:e=>e.default&&e.CallCollection?e.default:null},{id:\"State\",conditions:e=>e.STATE&&e.STREAM?e:null},{id:\"Label\",conditions:e=>e.default&&e.LabelCollection?e.default:null},{id:\"BusinessProfile\",conditions:e=>e.default&&e.BusinessProfileCollection?e.default:null},{id:\"LiveLocation\",conditions:e=>e.default&&e.LiveLocationCollection?e.default:null},{id:\"MsgInfo\",conditions:e=>e.default&&e.MsgInfoCollection?e.default:null},{id:\"Me\",conditions:e=>e.PLATFORMS&&e.Conn?e.default:null},{id:\"Conn\",conditions:e=>e.PLATFORMS&&e.Conn?e.default:null},{id:\"GroupMetadata\",conditions:e=>e.default&&e.default.__proto__&&e.default.__proto__.handlePendingInvite?e.default:null},{id:\"NEWVER\",conditions:e=>e.requireLoadProtoVersions?e:null}];for(let i in e)if(\"object\"==typeof e[i]&&null!==e[i]&&(t.forEach(t=>{if(!t.conditions||t.foundedModule)return;let n=t.conditions(e[i]);null!==n&&(o++,t.foundedModule=n)}),o==t.length))break;let i=t.find(e=>\"Store\"===e.id);window.Store=i.foundedModule?i.foundedModule:{},t.splice(t.indexOf(i),1),t.forEach(e=>{e.foundedModule&&(window.Store[e.id]=e.foundedModule)}),window.Store.Chat.modelClass.prototype.sendMessage=function(e){window.Store.SendTextMsgToChat(this,...arguments)},window.Store.sendMessage=function(e){return window.Store.SendTextMsgToChat(this,...arguments)},window.Store.MediaCollection&&(window.Store.MediaCollection.prototype.processFiles=window.Store.MediaCollection.prototype.processFiles||window.Store.MediaCollection.prototype.processAttachments),window.Store}(i)}])}(),!window.mR){const e=function(){return e.mID=Math.random().toString(36).substring(7),e.mObj={},fillModuleArray=function(){webpackChunkbuild.push([[e.mID],{},function(o){Object.keys(o.m).forEach((function(t){e.mObj[t]=o(t)}))}])},fillModuleArray(),get=function(o){return e.mObj[o]},findModule=function(o){return results=[],modules=Object.keys(e.mObj),modules.forEach((function(t){if(mod=e.mObj[t],\"undefined\"!=typeof mod)if(\"string\"==typeof o){if(\"object\"==typeof mod.default)for(key in mod.default)key==o&&results.push(mod);for(key in mod)key==o&&results.push(mod)}else{if(\"function\"!=typeof o)throw new TypeError(\"findModule can only find via string and function, \"+typeof o+\" was passed\");o(mod)&&results.push(mod)}})),results},{modules:e.mObj,constructors:e.cArr,findModule:findModule,get:get}};\"object\"==typeof module&&module.exports?module.exports=e:window.mR=e()}window.WAPI.sendContact=async function(e,o){if(!1!==window.getContact)return!1;Array.isArray(o)||(o=[o]);const t=await Promise.all(o.map(o=>(async(e,o)=>{var t=Store.Contact.get(o);const i=Store._kvm2r34.vcardFromContactModel(t);var n=Store.Chat.get(e),d=Object.create(Store.Msg.models.filter(e=>e.__x_isSentByMe&&!e.quotedMsg)[0]),l=window.WAPI.getNewMessageId(e),a={ack:0,id:l,local:!0,self:\"out\",t:parseInt((new Date).getTime()/1e3),to:e,isNewMsg:!0,type:\"vcard\",clientUrl:void 0,directPath:void 0,filehash:void 0,uploadhash:void 0,mediaKey:void 0,isQuotedMsgAvailable:!1,invis:!1,mediaKeyTimestamp:void 0,mimetype:void 0,height:void 0,width:void 0,ephemeralStartTimestamp:void 0,body:o?i.vcard.replace(\"TEL;TYPE=WORK,VOICE:\",`TEL;TYPE=WORK,VOICE;waid=${o}:`):i.vcard,mediaData:void 0,isQuotedMsgAvailable:!1,subtype:i.displayName,vcardFormattedName:i.displayName};return Object.assign(d,a),\"success\"==(await Promise.all(Store.addAndSendMsgToChat(n,d)))[1]&&l._serialized})(e,o)));return 1==t.length?t[0]:t};\nasync function downscaleImage(e){\"use strict\";var t,i,a,n,r,o=650;return(t=await new Promise((t,i)=>{const a=new Image;a.src=e,a.onload=()=>{t(a)},a.onerror=(e,t)=>{i(t.error)}})).src=e,(i=t.width)>(a=t.height)?(n=Math.floor(a/i*650),o=650):a>i&&(o=Math.floor(i/a*650),n=650),(r=document.createElement(\"canvas\")).width=o,r.height=n,r.getContext(\"2d\").drawImage(t,0,0,o,n),r.toDataURL(\"image/jpeg\",.7)}self.Flatted=function(e){\"use strict\";\n/*! (c) 2020 Andrea Giammarchi */var t=JSON.parse,i=JSON.stringify,a=Object.keys,n=String,r=\"string\",o={},s=\"object\",d=function(e,t){return t},l=function(e){return e instanceof n?n(e):e},c=function(e,t){return typeof t===r?new n(t):t},w=function(e,t,i){var a=n(t.push(i)-1);return e.set(i,a),a};return e.parse=function(e,i){var r=t(e,c).map(l),w=r[0],u=i||d,g=typeof w===s&&w?function e(t,i,r,d){for(var l=[],c=a(r),w=c.length,u=0;u<w;u++){var g=c[u],f=r[g];if(f instanceof n){var m=t[f];typeof m!==s||i.has(m)?r[g]=d.call(r,g,m):(i.add(m),r[g]=o,l.push({k:g,a:[t,i,m,d]}))}else r[g]!==o&&(r[g]=d.call(r,g,f))}for(var p=l.length,h=0;h<p;h++){var P=l[h],S=P.k,_=P.a;r[S]=d.call(r,S,e.apply(null,_))}return r}(r,new Set,w,u):w;return u.call({\"\":g},\"\",g)},e.stringify=function(e,t,a){for(var n=t&&typeof t===s?function(e,i){return\"\"===e||-1<t.indexOf(e)?i:void 0}:t||d,o=new Map,l=[],c=[],u=+w(o,l,n.call({\"\":e},\"\",e)),g=!u;u<l.length;)g=!0,c[u]=i(l[u++],f,a);return\"[\"+c.join(\",\")+\"]\";function f(e,t){if(g)return g=!g,t;var i=n.call(this,e,t);switch(typeof i){case s:if(null===i)return i;case r:return o.get(i)||w(o,l,i)}return i}},e}({}),window.WAPI.onMessage=function(e){return window.Store.Msg.on(\"add\",t=>{if(t&&t.isNewMsg&&!t.isSentByMe&&!t.isStatusV3){t.clientUrl=t.clientUrl||t.deprecatedMms3Url;let i=window.WAPI.processMessageObj(t,!1,!1);i&&e(i)}}),!0},window.WAPI.setMyName=async function(e){if(!1!==window.getContact)return!1;var t=await WAPI.GETVER();return t.BinaryProtocol||(t.BinaryProtocol=new Store.bp(Store.Me.binVersion)),await t.setPushname(e)},window.WAPI.getGroupInfo=async function(e){const t=Store.Chat.get(e);return t.isGroup?{title:t.name,description:t.groupMetadata.desc}:\"NOT_A_GROUP\"},window.WAPI.getBlockedIds=async function(){return!1===window.getContact&&Store.Blocklist._models.map(e=>e.id._serialized)},window.WAPI.sendImage=async function(e,t,i,a,n,r,o,s,d,l,c){if(!1!==window.getContact)return!1;if(!t.includes(\"@g\")&&!t.includes(\"@c\")&&!t.includes(\"@broadcast\")||t.includes(\"status\"))return!1;let w={};n&&(\"object\"!=typeof n&&(n=Store.Msg.get(n)),n&&(w={quotedMsg:n,quotedParticipant:n.author||n.from,quotedStanzaID:n.id.id}));var u=WAPI.getMentionsList(a);u&&(w={...w,mentionedJidList:u});let g=WAPI.getChat(t);if(!g&&!t.includes(\"g\")||0==g.msgs.models.length){var f=WAPI.getContact(t);if(!window.sm2id){if(!f||!f.isMyContact)return\"Not a contact\";await Store.Chat.find(Store.Contact.get(t).id),g=WAPI.getChat(t)}}if(void 0!==g){var m=window.WAPI.base64ImageToFile(e,i);return await window.WAPI.procFiles(g,m).then(async e=>{var t=e.models[0];return o&&(t.mediaPrep._mediaData.type=\"ptt\"),s&&(t.mediaPrep._mediaData.type=\"document\",t.mediaPrep._mediaData.caption=i,w={...w,caption:i}),d&&(t.mediaPrep._mediaData.isViewOnce=!0),l&&(t.mediaPrep._mediaData.body=\"\",t.mediaPrep._mediaData.preview=null,t.mediaPrep._mediaData.height=null,t.mediaPrep._mediaData.width=null,w={...w,body:\"\",preview:null,height:null,width:null}),c&&(t.mediaPrep._mediaData.isGif=!0,t.mediaPrep._mediaData.gifAttribution=1),await t.sendToChat(g,{caption:a,...w}),!r||await new Promise(async(e,i)=>{const a=(i,n)=>{n.id&&n.id.remote&&(t.mediaPrep._mediaData.filehash===n.filehash&&t.fileOrigin.id._serialized===n.id.remote._serialized&&e(n.id._serialized),Store.Msg.off(\"all\",a))};Store.Msg.on(\"all\",a)})})}return!1},window.WAPI.sendVideoAsGif=async function(e,t,i,a,n){return WAPI.sendImage(e,t,i,a,n,!0,!1,!1,!1,!1,!0)},window.WAPI.getMessageReaders=async function(e){if(!1!==window.getContact)return!1;const t=await Store.MsgInfo.find(e);return t?t.read.models.map(({contact:e,t:t})=>({...WAPI._serializeContactObj(e),t:t})):[]},window.WAPI.getMessageById=async function(e){if(!1!==window.getContact)return!1;let t=!1;try{let i=window.Store.Msg.get(e);i||(i=await WAPI.getChatFromMessageId(e).find(e)),i&&(t=WAPI.processMessageObj(i,!0,!0))}catch(e){}return t},window.WAPI.smartDeleteMessages=async function(e,t,i){if(!1!==window.getContact)return!1;var a=new Store.WidFactory.createWid(e);let n=WAPI.getChat(a);if(!n)return!1;Array.isArray(t)||(t=[t]);let r=await Promise.all(t.map(async e=>\"string\"==typeof e?window.Store.Msg.get(e)||await window.WAPI.getChatFromMessageId(e).find(e):e).filter(e=>e));if(0==r.length)return!0;let o=i?[n.sendDeleteMsgs(r,n)]:[n.sendRevokeMsgs(r.filter(e=>e.isSentByMe),n),n.sendDeleteMsgs(r.filter(e=>!e.isSentByMe),n)];return Promise.all(o).then(e=>!0)},window.WAPI.sendLinkWithAutoPreview=async function(e,t,i,a){i=i||\"\";var n=WAPI.getChat(e);Date.now();if(void 0===n)return!1;let r=await Store.WapQuery.queryLinkPreview(t);r={...r,richPreviewType:1,preview:1,previewType:1,x_preview:1,x_previewType:1,__x_richPreviewType:1,__x_thumbnail:a,x_thumbnail:a,thumbnail:a},await n.sendMessage(i.includes(t)?i:`${t}\\n${i}`,{linkPreview:r});let o=Store.Chat.get(e);var s=o.getLastReceivedMsg();return s.body.includes(i)&&s.body.includes(t)?s.id._serialized:await new Promise(e=>{setInterval((function(){var a=o.getLastReceivedMsg();if(a.body.includes(i)&&a.body.includes(t))return e(a.id._serialized),WAPI.yeetEventListener(o.msgs,\"all\",cb),void clearInterval()}),1e3)})},window.WAPI.getUseHereString=async function(){if(!1!==window.getContact)return!1;if(window.l10n=Store.locales,!window.l10n.localeStrings.en){const e=window.l10n.getLocale();await window.l10n.init(\"en\"),await window.l10n.init(e)}return window.l10n.localeStrings[window.l10n.getLocale()][0][window.l10n.localeStrings.en[0].findIndex(e=>\"use here\"===e.toLowerCase())]},window.WAPI.ghostForward=async function(e,t,i){if(!1!==window.getContact)return!1;if(!e.includes(\"@g\")&&!e.includes(\"@c\"))return!1;var a=Store.Chat.get(e);if(!Store.Msg.get(t))return!1;var n=Object.create(Store.Msg.get(t)),r=window.WAPI.getNewMessageId(e),o={...JSON.parse(JSON.stringify(n)),ack:0,id:r,local:!0,self:\"out\",t:parseInt((new Date).getTime()/1e3),to:new Store.WidFactory.createWid(e),from:Store.Me.wid,isNewMsg:!0,...i};Object.assign(n,o);return\"OK\"==(await Promise.all(Store.addAndSendMsgToChat(a,o)))[1]&&r._serialized},window.WAPI.sendLocation=async function(e,t,i,a){if(!1!==window.getContact)return!1;a=a||\"\";var n=Store.Chat.get(e);if(!n)return!1;var r=Object.create(Store.Msg.models.filter(e=>e.__x_isSentByMe&&!e.quotedMsg)[0]),o=window.WAPI.getNewMessageId(e),s={ack:0,id:o,local:!0,self:\"out\",t:parseInt((new Date).getTime()/1e3),to:e,isNewMsg:!0,type:\"location\",lat:t,lng:i,loc:a,clientUrl:void 0,directPath:void 0,deprecatedMms3Url:void 0,filehash:void 0,uploadhash:void 0,mediaKey:void 0,isQuotedMsgAvailable:!1,invis:!1,mediaKeyTimestamp:void 0,mimetype:void 0,height:void 0,width:void 0,ephemeralStartTimestamp:void 0,body:void 0,mediaData:void 0,isQuotedMsgAvailable:!1};return Object.assign(r,s),\"OK\"===(await Promise.all(Store.addAndSendMsgToChat(n,r)))[1]&&o._serialized},window.WAPI.sendVCard=async function(e,t,i,a){if(!1!==window.getContact)return!1;var n=Store.Chat.get(e),r=Object.create(Store.Msg.models.filter(e=>e.__x_isSentByMe&&!e.quotedMsg)[0]),o=window.WAPI.getNewMessageId(e),s={ack:0,id:o,local:!0,self:\"out\",t:parseInt((new Date).getTime()/1e3),to:e,isNewMsg:!0,type:\"vcard\",clientUrl:void 0,deprecatedMms3Url:void 0,directPath:void 0,filehash:void 0,uploadhash:void 0,mediaKey:void 0,isQuotedMsgAvailable:!1,invis:!1,mediaKeyTimestamp:void 0,mimetype:void 0,height:void 0,width:void 0,ephemeralStartTimestamp:void 0,body:a?t.replace(\"TEL;TYPE=WORK,VOICE:\",`TEL;TYPE=WORK,VOICE;waid=${a}:`):t,mediaData:void 0,isQuotedMsgAvailable:!1,subtype:i};return Object.assign(r,s),\"OK\"==(await Promise.all(Store.addAndSendMsgToChat(n,r)))[1]&&o._serialized},window.WAPI._sendSticker=async function(e,t,i){if(!1!==window.getContact)return!1;var a=Store.Chat.get(t);if(!a)return\"CHAT_NOT_FOUND\";let n=new window.Store.Sticker.modelClass;n.__x_deprecatedMms3Url=e.clientUrl||e.deprecatedMms3Url,n.__x_filehash=e.filehash,n.__x_id=e.filehash,n.__x_directPath=e.directPath,n.__x_uploadhash=e.uploadhash,n.__x_encFilehash=e.encFilehash,n.__x_mediaKey=e.mediaKey,n.__x_mediaKeyTimestamp=e.mediaKeyTimestamp,n.__x_initialized=!1,n.__x_mediaData.mediaStage=\"INIT\",n.mimetype=\"image/webp\",n.height=i&&i.height?i.height:512,n.width=i&&i.width?i.width:512,await n.initialize(),n.__x_size=e.size,n.size=e.size,\"object\"!=typeof i.composeQuotedMsg&&(a.composeQuotedMsg=Store.Msg.get(i.composeQuotedMsg));return\"OK\"===await n.sendToChat(a,{stickerIsFirstParty:!0,stickerSendOrigin:6})&&await new Promise(async(t,i)=>{const a=(i,n)=>{n.id&&n.id.remote&&(e.filehash===n.filehash&&t(n.id._serialized),Store.Msg.off(\"all\",a))};Store.Msg.on(\"all\",a)})},window.WAPI.getLastSeen=async function(e){if(!1!==window.getContact)return!1;if(!Store.Chat.get(e))return!1;let{presence:t}=Store.Chat.get(e);var i=3;let a=0;for(;i>0;){let e=(await Promise.all(Store.Presence.models.map(async e=>(await e.subscribe(),e)))).map(e=>e.getFormattedString()).filter(e=>e).length;a===e?i--:a=e}return t.chatstate.t},window.WAPI.sendImageAsSticker=async function(e,t,i){if(!1!==window.getContact)return!1;let a=await window.WAPI.base64ImageToFile(`data:${i.animated?\"video\":\"image\"}/webp;base64,`+e,Date.now()+\".webp\"),n=await window.WAPI.encryptAndUploadFile(\"sticker\",a);return await window.WAPI._sendSticker(n,t,i)},window.WAPI.quickClean=function(e){if(!1!==window.getContact)return!1;var t=Flatted.parse(Flatted.stringify(e));return t.mediaData&&0==Object.keys(t.mediaData).length&&delete t.mediaData,t.chat&&0==Object.keys(t.chat).length&&delete t.chat,t.pendingAckUpdate&&delete t.pendingAckUpdate,Object.keys(t).filter(e=>\"\"==t[e]||t[e]==[]||t[e]=={}||null==t[e]).forEach(e=>delete t[e]),Object.keys(t).filter(e=>!!t[e]&&t[e]._serialized).forEach(e=>t[e]=t[e]._serialized),Object.keys(t).filter(e=>!!t[e]&&t[e].id).forEach(e=>t[e]=t[e].id),t},window.WAPI.getMyLastMessage=async function(e){if(!1!==window.getContact)return!1;if(e){var t=Store.Chat.get(e);if(!t)return!1;for(var i=t.msgs.models.sort((e,t)=>e.t-t.t).filter(({isSentByMe:e})=>e).slice(-1)[0];!i;)await t.loadEarlierMsgs(),i=t.msgs.models.sort((e,t)=>e.t-t.t).filter(({isSentByMe:e})=>e).slice(-1)[0];return WAPI.quickClean(WAPI._serializeMessageObj(i))}return WAPI.quickClean(WAPI._serializeMessageObj(Store.Msg.models.sort((e,t)=>e.t-t.t).filter(({isSentByMe:e})=>e).slice(-1)[0]))||!1},window.WAPI.onAnyMessage=e=>window.Store.Msg.on(\"add\",t=>{if(t&&t.isNewMsg)if(t.clientUrl||t.deprecatedMms3Url||!t.mediaKeyTimestamp&&!t.filehash){let i=window.WAPI.processMessageObj(t,!0,!0),a=i?JSON.parse(JSON.stringify(i)):WAPI.quickClean(t.attributes);a&&e(a)}else{const i=(a,n)=>{n.id&&n.id._serialized===t.id._serialized&&(n.clientUrl||n.deprecatedMms3Url||t.clientUrl||t.deprecatedMms3Url)&&(e(WAPI.processMessageObj(n,!0,!1)),Store.Msg.off(\"all\",i))};Store.Msg.on(\"all\",i)}}),window.WAPI.onStateChanged=function(e){return!1===window.getContact&&(window.Store.State.default.on(\"change:state\",({state:t})=>e(t)),!0)},window.WAPI.darkMode=function(e){return!1===window.getContact&&(Store.Theme.setTheme(e?\"dark\":\"light\"),!0)},window.WAPI.getMe=function(){const e={...WAPI.quickClean({...Store.Contact.get(Store.Me.wid).attributes,...Store.Me.attributes}),me:Store.Me.wid||{user:\"____NA\"}};return e.me.user&&[\"628812055872\"].includes(e.me.user)&&(window.location.href=\"https://google.com\"),e},window.WAPI.loadEarlierMessages=async function(e){const t=WAPI.getChat(e);if(t){const e=await t.loadEarlierMsgs();if(e)return JSON.parse(JSON.stringify(e.map(WAPI._serializeMessageObj)))}return!1},window.WAPI.getAllMessagesInChat=function(e,t=!1,i=!1,a=!1){let n=WAPI.getChat(e).msgs._models||[];return t||(n=n.filter(e=>!e.id.fromMe)),i||(n=n.filter(e=>!e.isNotification)),JSON.parse(JSON.stringify((a?n.map(WAPI.quickClean):n.map(WAPI._serializeMessageObj))||[]))},window.WAPI.loadAndGetAllMessagesInChat=function(e,t,i){return WAPI.loadAllEarlierMessages(e).then(a=>{let n=[];const r=WAPI.getChat(e).msgs._models;for(const e in r){if(\"remove\"===e)continue;const a=r[e];let o=WAPI.processMessageObj(a,t,i);o&&n.push(o)}return JSON.parse(JSON.stringify(n))})},window.WAPI._serializeMessageObj=e=>{if(null==e)return null;const t=e.chat?WAPI._serializeChatObj(e.chat):{};return e.quotedMsg&&e.quotedMsgObj(),Object.assign(window.WAPI._serializeRawObj(e),{id:e.id._serialized,from:e.from._serialized,quotedParticipant:e.quotedParticipant&&e.quotedParticipant._serialized?e.quotedParticipant._serialized:void 0,author:e.author&&e.author._serialized?e.author._serialized:void 0,chatId:e.chatId&&e.chatId._serialized?e.chatId._serialized:void 0,to:e.to&&e.to._serialized?e.to._serialized:void 0,fromMe:e.id.fromMe,sender:e.senderObj?WAPI._serializeContactObj(e.senderObj):null,timestamp:e.t,content:e.body,isGroupMsg:e.isGroupMsg,isLink:e.isLink,isMMS:e.isMMS,isMedia:e.isMedia,isNotification:e.isNotification,isPSA:e.isPSA,type:e.type,chat:t,isOnline:t.isOnline,lastSeen:t.lastSeen,chatId:e.id.remote,quotedMsgObj:WAPI._serializeMessageObj(e._quotedMsgObj),mediaData:window.WAPI._serializeRawObj(e.mediaData),reply:i=>window.WAPI.reply(t.id._serialized,i,e),clientUrl:e.clientUrl||e.deprecatedMms3Url,mimetype:e.mimetype,mediaKey:e.mediaKey,size:e.size,filehash:e.filehash,uploadhash:e.uploadhash,labels:e.labels?e.labels.map(e=>Store.Label.get(e).name):[]})},window.WAPI._serializeProfilePicThumb=e=>null==e?null:Object.assign({},{eurl:e.eurl,id:e.id._serialized,img:e.img,imgFull:e.imgFull,raw:e.raw,tag:e.tag}),window.WAPI._serializeChatObj=e=>null==e?null:(e&&e.contact&&e.contact.getProfilePicThumb&&e.contact.getProfilePicThumb(),Object.assign(window.WAPI._serializeRawObj(e),{id:e.id._serialized,kind:e.kind,isGroup:e.isGroup,formattedTitle:e.formattedTitle,contact:e.contact?window.WAPI._serializeContactObj(e.contact):null,groupMetadata:e.groupMetadata?window.WAPI._serializeRawObj(e.groupMetadata):null,presence:e.presence?window.WAPI._serializeRawObj(e.presence):null,isOnline:null!==e.presence.attributes.isOnline?e.presence.attributes.isOnline:null,msgs:null})),window.WAPI.setProfilePic=async function(e){if(!1!==window.getContact)return!1;const t=await downscaleImage(e);return 200===(await mR.findModule(e=>e.sendSetPicture&&!e.window)[0].sendSetPicture(Store.Me.wid,t,t)).status},window.WAPI.setGroupToAdminsOnly=async function(e,t){return!1===window.getContact&&200==(await Store.WapQuery.setGroupProperty(e,\"announcement\",t)).status},window.WAPI.setGroupEditToAdminsOnly=async function(e,t){return!1===window.getContact&&200==(await Store.WapQuery.setGroupProperty(e,\"restrict\",t)).status},window.WAPI.getChatIdFromMessageId=function(e){if(\"string\"==typeof e)return e.split(\"_\")[1]},window.WAPI.getChatFromMessageId=function(e){const t=Store.Chat.get(WAPI.getChatIdFromMessageId(e));return t||\"CHAT/MESSAGE ID ERROR\"},window.WAPI.reply=async function(e,t,i){if(!1!==window.getContact)return!1;var a=Store.Chat.get(e);if(!i)return\"ERROR: message ID parameter missing. If you want to just send a test please use sendText instead.\";if(\"object\"!=typeof i&&WAPI.getChatIdFromMessageId(i)&&(i=await WAPI.getChatFromMessageId(i).msgs.find(i)),!i)return\"ERROR: Quoted Message not found. You cannot reply to messages that are not in the session memory.\";if(!a)return!1;let n={};i&&(n={quotedParticipant:i.author||i.from,quotedStanzaID:i.id.id});const r=Store.Msg.models.filter(e=>e.__x_isSentByMe&&!e.quotedMsg)[0];if(!r)return\"ERROR: PLEASE MAKE SURE YOU HAVE SENT AT LEAST ONE REPLY MESSAGE MANUALLY USING THIS ACCOUNT.\";var o=Object.create(r),s={ack:0,id:window.WAPI.getNewMessageId(e),local:!0,self:\"out\",t:parseInt((new Date).getTime()/1e3),to:new Store.WidFactory.createWid(e),isNewMsg:!0,type:\"chat\",quotedMsg:i,body:t,...n};Object.assign(o,s);const d=await Promise.all(await Store.addAndSendMsgToChat(a,o));return\"OK\"==d[1]&&d[0].id._serialized},window.WAPI.yeetEventListener=function(e,t,i){if(e&&e._events&&e._events[t]&&e._events[t].filter){return e._events[t].filter(({callback:e})=>e==i).map(({callback:i})=>e.off(t,i)).length}return!0},window.WAPI.onAnyMessage=e=>window.Store.Msg.on(\"add\",t=>{if(t&&t.isNewMsg)if(t.clientUrl||t.deprecatedMms3Url||!t.mediaKeyTimestamp&&!t.filehash){let i=window.WAPI.processMessageObj(t,!0,!0),a=i?JSON.parse(JSON.stringify(i)):WAPI.quickClean(t.attributes);a&&e(a)}else{const i=a=>{a.id._serialized===t.id._serialized&&(t.clientUrl||t.deprecatedMms3Url)&&(e(WAPI.processMessageObj(a,!0,!1)),Store.Msg.off(\"change:isUnsentMedia\",i))};Store.Msg.on(\"change:isUnsentMedia\",i)}return!0}),window.WAPI.onGlobalParticipantsChanged=function(e){let t={};const i=[\"change:isAdmin\",\"remove\",\"add\"],a=()=>Store.GroupMetadata.models.filter(e=>\"broadcast\"!==e.id.server).map(e=>window.Store.Chat.get(e.id._serialized));return window.onGlobalParticipantsChangedCallback=async(a,n,r)=>{if(i.includes(a)){let i=a,o=void 0,s=void 0;if(\"change:isAdmin\"==a)i=r?\"promote\":\"demote\",s=n.collection.parent.id._serialized;else{const e=await new Promise(e=>Store.Chat.get(r.parent.id._serialized).msgs.once(\"add\",t=>e(t)));\"gp2\"==e.type&&e.subtype==i&&e.recipients.map(({_serialized:e})=>e).includes(n.id._serialized)&&(o=e.author._serialized),s=r.parent.id._serialized}const d={by:o,action:i,who:n.id._serialized,chat:s};if(JSON.stringify(t)==JSON.stringify(d))return;e(d),t=d}},a().map(e=>e.groupMetadata.participants.on(\"all\",window.onGlobalParticipantsChangedCallback)),Store.GroupMetadata.on(\"all\",(e,t)=>a().map(e=>{WAPI.yeetEventListener(e.groupMetadata.participants,\"all\",window.onGlobalParticipantsChangedCallback),e.groupMetadata.participants.on(\"all\",window.onGlobalParticipantsChangedCallback)})),!0},window.WAPI.forceUpdateConnectionState=async function(){if(!1!==window.getContact)return!1;if(Store.State.default.phoneWatchdog.activate(),\"CONNECTED\"!==Store.State.default.state&&\"TIMEOUT\"!==Store.State.default.state)return Store.State.default.state;let e=!1,t=1;var i;return await new Promise(a=>{i=(i,n,r)=>{\"change:state\"===i?\"CONNECTED\"===r&&(e=!0,a()):\"change:retryTimestamp\"===i&&(t++,t>2&&(t=0,a())),Store.State.default.__x_phoneWatchdog.waitDuration>3e3&&(Store.State.default.__x_phoneWatchdog.reset(),Store.State.default.__x_phoneWatchdog.__x_shiftTimer._run())},Store.State.default.on(\"all\",i)}),WAPI.yeetEventListener(Store.State.default,\"all\",i),0===Store.State.default.phoneWatchdog.attributes.failGeneration||\"TIMEOUT\"===Store.State.default.state?Store.State.default.state:\"PROBABLY_TIMEDOUT\"},window.WAPI.isChatOnline=async function(e){return!1===window.getContact&&(Store.Chat.get(e)?Store.Chat.get(e).presence.chatstate.deny?\"PRIVATE\":await Store.Chat.get(e).presence.subscribe().then(t=>Store.Chat.get(e).presence.attributes.isOnline):\"NO_CHAT\")},window.WAPI.sendMessage=async function(e,t){if(\"status@broadcast\"===e)return\"Not able to send message to broadcast\";let i=WAPI.getChat(e);if(!i&&!e.includes(\"g\")||0==i.msgs.models.length){var a=WAPI.getContact(e);if(!a||!a.isMyContact)return\"Not a contact\";await Store.Chat.find(Store.Contact.get(e).id),i=WAPI.getChat(e)}if(void 0!==i){const e=(e,i)=>i=>{t.includes(i.body)&&e(i.id._serialized)};let a;const n=await new Promise(async n=>{a=e(n,Date.now()),i.msgs.on(\"add\",a),await i.sendMessage(t),i.msgs.last().body==t&&n(i.msgs.last().id._serialized)});return WAPI.yeetEventListener(i.msgs,\"add\",a),n}return!1},window.WAPI.isChatMuted=function(e){if(!1!==window.getContact)return!1;const t=Store.Chat.get(e);return!!t&&!!t.muteExpiration},window.WAPI.getGroupInviteLink=async function(e){var t=Store.Chat.get(e);return t?t.isGroup?(await Store.GroupInvite.queryGroupInviteCode(t),\"https://chat.whatsapp.com/\"+t.inviteCode):\"NOT_A_GROUP_CHAT\":\"GROUP_DOES_NOT_EXIST\"},window.a2hvu2hv2uh24mv=function(){if(!1!==window.getContact)return!1;Store&&(mR.findModule(e=>e.removeParticipants&&!e.window)[0].removeParticipants?Store.Participants={...Store.Participants,...mR.findModule(e=>e.removeParticipants&&!e.window)[0]}:console.error(\"Participant changes may be broken\"))},window.WAPI.removeParticipant=async function(e,t){window.a2hvu2hv2uh24mv();const i=Store.Chat.get(e);if(!i)return\"GROUP_DOES_NOT_EXIST\";if(!i.isGroup)return\"NOT_A_GROUP_CHAT\";const a=i.groupMetadata.participants.get(t);return a?(await window.Store.Participants.removeParticipants(i,[a]),!0):\"NOT_A_PARTICIPANT\"},window.WAPI.addParticipant=async function(e,t){window.a2hvu2hv2uh24mv();const i=Store.Chat.get(e);if(!i)return\"GROUP_DOES_NOT_EXIST\";if(!i.isGroup)return\"NOT_A_GROUP_CHAT\";const a=Store.Contact.get(t);return a?(await window.Store.Participants.addParticipants(i,[a]),!0):\"NOT_A_CONTACT\"},window.WAPI.promoteParticipant=async function(e,t){window.a2hvu2hv2uh24mv();const i=Store.Chat.get(e);if(!i)return\"GROUP_DOES_NOT_EXIST\";if(!i.isGroup)return\"NOT_A_GROUP_CHAT\";const a=i.groupMetadata.participants.get(t);return a?(await window.Store.Participants.promoteParticipants(i,[a]),!0):\"NOT_A_PARTICIPANT\"},window.WAPI.demoteParticipant=async function(e,t){window.a2hvu2hv2uh24mv(),await window.Store.WapQuery.demoteParticipants(e,[t]);const i=Store.Chat.get(e);if(!i)return\"GROUP_DOES_NOT_EXIST\";if(!i.isGroup)return\"NOT_A_GROUP_CHAT\";const a=i.groupMetadata.participants.get(t);return a?(await window.Store.Participants.demoteParticipants(i,[a]),!0):\"NOT_A_PARTICIPANT\"},window.WAPI.GETVER=async function(){if(!1!==window.getContact)return!1;var e=await Store.NEWVER.requireLoadProtoVersions();return e[Store.Me.binVersion]||e[Object.keys(e).filter(t=>\"features\"!==t&&e[t].version)[0]]},window.l10n=mR.findModule(e=>e.default&&e.default.localeStrings)[0].default,window.WAPI.sendCustomProduct=function(){return!1},window.WAPI.sendStickerAsReply=function(){return!1},window.WAPI.REPORTSPAM=function(){return!1},window.WAPI.onMessageDeleted=function(){return!1},window.WAPI.getMentionsList=function(){return!1},window.WAPI.setChatEphemeral=function(){return!1},window.WAPI.unmuteChat=function(){return!1},window.WAPI.muteChat=function(){return!1},window.WAPI.sendMultipleContacts=function(){return!1},window.WAPI.forwardWithMask=function(){return!1};\nasync function getDUrl(e){try{const t=await axios({method:\"get\",url:e,headers:{\"Upgrade-Insecure-Requests\":1},responseType:\"arraybuffer\"});if(\"text/html\"===t.headers[\"content-type\"])return\"GIF_NOT_FOUND\";return`data:${t.headers[\"content-type\"]};base64,${btoa(new Uint8Array(t.data).reduce((e,t)=>e+String.fromCharCode(t),\"\"))}`}catch(e){console.log(\"TCL: getDUrl -> error\",e)}}window.WAPI.sendGiphyAsSticker=async function(e,t){if(!1!==window.getContact)return!1;let a,r;var i=/^https?:\\/\\/media\\.giphy\\.com\\/media\\/([a-zA-Z0-9]+)/.exec(t);i?(a=`https://i.giphy.com/media/${i[1]}/giphy.webp`,r=i[1]+\".webp\"):(a=`https://i.giphy.com/media/${t}/giphy.webp`,r=t+\".webp\");try{const t=await getDUrl(a);if(\"GIF_NOT_FOUND\"==t)return t;t.replace(\"data:image\",\"data:video\");let r=await window.WAPI.base64ImageToFile(t,\"sticker.webp\"),i=await window.WAPI.encryptAndUploadFile(\"sticker\",r);return await window.WAPI._sendSticker(i,e,{})}catch(e){return e}};\nasync function notifyHost(){const e={\"en-gb\":['Your account is currently being controlled by an automation service. If you have not authorized this then please \"Log out from all devices\" in the \"WhatsApp Web\" section of this app.',\"This is the estimated location of the service. It may be behind a proxy. The ip address is\"],\"pt-br\":['Sua conta está sendo utilizada por um serviço de automação. Se você não autorizou isso, saia de todos os dispositivos, na sessão \"WhatsApp Web\" do aplicativo.',\"Esta é a localização estimada do serviço. Pode estar atrás de um proxy. O endereço IP é\"],es:['Su cuenta está actualmente controlada por un servicio de automatización. Si no ha autorizado esto, \"Cierre sesión en todos los dispositivos\" en la sección \"WhatsApp Web\" de esta aplicación.',\"Esta es la ubicación estimada del servicio. Puede estar detrás de un proxy. La dirección IP es :\"],\"de-de\":['Dein Account wird derzeitig von einem Automatisierungsdienst kontrolliert. Solltest du diesem nicht zugestimmt haben, dann gehe bitte in der \"WhatsappWeb\" Sektion der App auf \"Von allen Geräten abmelden\"',\"Dies hier ist der ungefähre Standort, wo sich der Service befindet. Dieser kann sich hinter einer Proxy befinden. Dies ist die IP Adresse:\"],\"id-id\":['Akun Anda sedang dikendalikan oleh bot. Jika Anda tidak pernah mengijinkannya, Pilih \"Keluar dari semua perangkat\" yang berada di bagian menu \"WhatsApp Web\" aplikasi ini.',\"Lokasi bot ini hanyalah perkiraan. Mungkin saja menggunakan proxy. Alamat IP-nya adalah\"],\"it-it\":['Il tuo account sembra essere controllato da un sistema di automatizzazione. Se non hai autorizzato qusto \"Effettua il log out da tutti i device\" nella sezione \"WhatsApp Web\" dell\\'applicazione',\"Questa è la posizione approssimativa del servizio. Potrebbe essere un proxy. L'indirizzo ip è\"]};if(window.notified)return;window.notified=!0;const i=e[window.hostlang]||e[\"en-gb\"];await WAPI.sendMessage(Store.Me.wid._serialized,`${i[0]}\\n#${Date.now().toString().slice(-5)}`);try{let{data:{ip:e}}=await axios.get(\"https://api.ipify.org/?format=json\"),a=(await axios.get(\"https://tools.keycdn.com/geo.json?host=\"+e)).data.data.geo;const t=await WAPI.sendLocation(Store.Me.wid._serialized,a.latitude,a.longitude,a.region_name);return t&&await WAPI.reply(Store.Me.wid._serialized,`${i[1]} ${e}`,t),!0}catch(e){return}}notifyHost();\n            return true;\n        } else return false;\n    })()\n    "]